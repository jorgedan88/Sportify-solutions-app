@{
    ViewData["Title"] = "Home Page";
}

<div id="carouselClasses" class="carousel slide my-4" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/images/karate.jpg" class="d-block w-100" alt="Clase 1">
        </div>
        <div class="carousel-item">
            <img src="~/images/boxeo.jpg" class="d-block w-100" alt="Clase 2">
        </div>
        <div class="carousel-item">
            <img src="~/images/as.jpg" class="d-block w-100" alt="Clase 3">
        </div>
        <div class="carousel-item">
            <img src="~/images/aq.jpg" class="d-block w-100" alt="Clase 4">
        </div>
        <div class="carousel-item">
            <img src="~/images/sp.jpg" class="d-block w-100" alt="Clase 5">
        </div>
        <div class="carousel-item">
            <img src="~/images/zumba.jpg" class="d-block w-100" alt="Clase 7">
        </div>
        <div class="carousel-item">
            <img src="~/images/natacion.jpg" class="d-block w-100" alt="Clase 8">
        </div>

    </div>
    <a class="carousel-control-prev" href="#carouselClasses" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselClasses" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<!-- TODO: Que el buscador funcione -->
<div class="container my-4">
    <div class="row">
        <div class="col-md-6">
        <div class="input-group">
                <input type="text" class="form-control" placeholder="Buscar clase" />
                <div class="input-group-append">
                    <button class="btn btn-outline-primary" type="submit">Buscar</button>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <input type="date" class="form-control" placeholder="Desde" />
        </div>
        <div class="col-md-3">
            <input type="date" class="form-control" placeholder="Hasta" />
        </div>
    </div>
</div>
<!-- TODO: Hacerlo dinamico Llamar a la API desde JavaScript en el frontend y usar los datos recibidos para generar las cards dinámicamente. -->
<div class="container">
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card">
                <img src="~/images/karate.jpg" class="card-img-custom" alt="Clase de Karate">
                <div class="card-body text-center">
                    <h5 class="card-title">Karate</h5>
                    <div class="row">
                        <div class="col">
                            <p class="card-text">Sábado</p>
                        </div>
                        <div class="col">
                            <p class="card-text">16/11/2025</p>
                        </div>
                        <div class="col">
                            <p class="card-text">10:30</p>
                        </div>
                    </div>
                    <p class="card-text bg-primary text-white rounded-3 p-3 mb-0 w-100 d-flex align-items-center justify-content-center"> <!-- Justify content center -->
                        <img src="~/images/pin.png" alt="Ubicación" style="width: 20px; height: 20px; margin-right: 8px;">
                        <small class="text-center">Salón principal</small>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card">
                <img src="~/images/boxeo.jpg" class="card-img-custom" alt="Clase de Boxeo">
                <div class="card-body text-center">
                    <h5 class="card-title">Boxeo</h5>
                    <div class="row">
                        <div class="col">
                            <p class="card-text">Sábado</p>
                        </div>
                        <div class="col">
                            <p class="card-text">16/11/2025</p>
                        </div>
                        <div class="col">
                            <p class="card-text">10:30</p>
                        </div>
                    </div>
                    <p class="card-text bg-primary text-white rounded-3 p-3 mb-0 w-100 d-flex align-items-center justify-content-center"> <!-- Justify content center -->
                        <img src="~/images/pin.png" alt="Ubicación" style="width: 20px; height: 20px; margin-right: 8px;">
                        <small class="text-center">Salón principal</small>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card">
                <img src="~/images/as.jpg" class="card-img-custom" alt="Clase de Musculación">
                <div class="card-body text-center"> 
                    <h5 class="card-title">Musculación</h5>
                    <div class="row">
                        <div class="col">
                            <p class="card-text">Sábado</p>
                        </div>
                        <div class="col">
                            <p class="card-text">16/11/2025</p>
                        </div>
                        <div class="col">
                            <p class="card-text">10:30</p>
                        </div>
                    </div>
                    <p class="card-text bg-primary text-white rounded-3 p-3 mb-0 w-100 d-flex align-items-center justify-content-center"> <!-- Justify content center -->
                        <img src="~/images/pin.png" alt="Ubicación" style="width: 20px; height: 20px; margin-right: 8px;">
                        <small class="text-center">Salón principal</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row" id="activityContainer">
        <!-- Cards iniciales se pueden renderizar de la misma forma si fuera necesario -->
    </div>
</div>

<!-- Botón Cargar más -->
<div class="text-center my-4">
    <button class="btn btn-primary" id="loadMoreBtn">Cargar más</button>
</div>

<!-- Scripts y Estilos -->
@section Scripts {
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        //TODO Crear un controlador en el backend que obtenga los datos de la base de datos y los devuelva en formato JSON.
        //Llamar a la API desde JavaScript en el frontend y usar los datos recibidos para generar las cards dinámicamente.
        const actividades = [
            { title: 'Aquagym', day: 'Lunes', date: '18/11/2025', time: '09:00', location: 'Piscina', image: '/images/aq.jpg' },
            { title: 'Spinning', day: 'Miércoles', date: '20/11/2025', time: '18:00', location: 'Sala de bicicletas', image: '/images/sp.jpg' },
            { title: 'Zumba', day: 'Viernes', date: '22/11/2025', time: '17:00', location: 'Salón principal', image: '/images/zumba.jpg' },
            { title: 'Natación', day: 'Sábado', date: '23/11/2025', time: '10:00', location: 'Piscina', image: '/images/natacion.jpg' }
        ];

        let activityIndex = 0;

        document.getElementById('loadMoreBtn').addEventListener('click', function() {
            const container = document.getElementById('activityContainer');
            // Cargar 2 actividades por cada clic
            for (let i = 0; i < 2; i++) {
                if (activityIndex >= actividades.length) {
                    alert("No hay más actividades para cargar.");
                    return;
                }
                const actividad = actividades[activityIndex];
                const card = `
                    <div class="col-md-4 mb-4">
                        <div class="card">
                            <img src="${actividad.image}" class="card-img-custom" alt="Clase de ${actividad.title}">
                            <div class="card-body text-center">
                                <h5 class="card-title">${actividad.title}</h5>
                                <div class="row">
                                    <div class="col">
                                        <p class="card-text">${actividad.day}</p>
                                    </div>
                                    <div class="col">
                                        <p class="card-text">${actividad.date}</p>
                                    </div>
                                    <div class="col">
                                        <p class="card-text">${actividad.time}</p>
                                    </div>
                                </div>
                                <p class="card-text bg-primary text-white rounded-3 p-3 mb-0 w-100 d-flex align-items-center justify-content-center">
                                    <img src="/images/pin.png" alt="Ubicación" style="width: 20px; height: 20px; margin-right: 8px;">
                                    <small class="text-center">${actividad.location}</small>
                                </p>
                            </div>
                        </div>
                    </div>
                `;
                
                container.insertAdjacentHTML('beforeend', card);
                activityIndex++;
            }
        });
    </script>
}